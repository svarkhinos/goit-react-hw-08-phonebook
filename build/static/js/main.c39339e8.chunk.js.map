{"version":3,"sources":["components/Form/Form.module.css","components/Navigation/UserMenu/UserMenu.module.css","components/Contact/Contact.module.css","Views/MainView/MainView.module.css","components/Section/Section.module.css","components/Filter/Filter.module.css","components/ContactList/ContactList.module.css","components/Navigation/AuthNav/AuthNav.module.css","Views/LoginView/LoginView.module.css","Services/users-api.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","Views/MainView/MainView.js","components/Section/Section.js","Services/contacts-api.js","redux/contacts/contacts-operations.js","redux/contacts/contacts-selectors.js","components/Form/Form.js","redux/contacts/contacts-actions.js","components/Filter/Filter.js","components/Contact/Contact.js","components/ContactList/ContactList.js","Views/ContactsView/ContactsView.js","Views/RegisterView/RegisterView.js","Views/LoginView/LoginView.js","components/Navigation/AuthNav/AuthNav.js","components/Navigation/UserMenu/UserMenu.js","images/ninja-cat.png","components/Navigation/Navigation.js","Routes/PrivateRoute.js","Routes/PublicRoute.js","App.js","redux/contacts/contacts-reducer.js","redux/auth/auth-slice.js","redux/store.js","index.js"],"names":["module","exports","axios","defaults","baseURL","token","headers","common","Authorization","registerUser","user","a","post","then","r","data","loginUser","logOutUser","fetchUser","persistedToken","get","register","createAsyncThunk","newUser","login","logOut","fetchCurrentUser","_","thunkAPI","state","getState","auth","rejectWithValue","authSelectors","getIsLoggedIn","isLoggedIn","getUsername","name","getIsFetchingCurrent","getIsFetchingCurrentUser","MainView","className","s","container","title","Section","children","section","addContactsNew","contact","number","deleteContactsNew","id","delete","fetchContacts","contacts","addContact","deleteContact","getLoading","loading","getFilter","filter","getAllContacts","items","getVisibleContacts","createSelector","normalizedFilter","toLowerCase","includes","connect","dispatch","onSubmit","useState","setName","setNumber","nameInputId","shortid","generate","numberInputId","handleInputChange","event","target","value","reset","form","preventDefault","find","toast","label","htmlFor","input","type","onChange","pattern","required","btn","changeFilter","createAction","e","contactsActions","Contact","onDeleteContact","listItem","listItemName","onClick","isLoading","useEffect","list","map","ContactsView","autoClose","position","RegisterView","useDispatch","email","setEmail","password","setPassword","passwordId","emailId","nameId","LoginView","AuthNav","to","style","color","isActive","UserMenu","useSelector","menu","src","img","alt","Navigation","PrivateRoute","Component","component","PublicRoute","App","isFetchingCurrentUser","path","element","createReducer","fulfilled","payload","pending","rejected","combineReducers","authSlice","createSlice","initialState","extraReducers","action","authPersistConfig","key","storage","whitelist","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","store","configureStore","reducer","persistReducer","contactsReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c39339e8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Form_label__lEV5M\",\"input\":\"Form_input__2mL8G\",\"btn\":\"Form_btn__nVi9V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__29ClT\",\"img\":\"UserMenu_img__1btBq\",\"name\":\"UserMenu_name__EHUBC\",\"menu\":\"UserMenu_menu__1XoP1\",\"btn\":\"UserMenu_btn__2tGl7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"Contact_listItem__3rbe8\",\"listItemName\":\"Contact_listItemName__ECmi-\",\"btn\":\"Contact_btn__3XPcp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MainView_container__3Pcg4\",\"title\":\"MainView_title__1SRW6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__3guAP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Filter_input__1cU1u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ContactList_list__v-4df\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AuthNav_container__2G3U0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"LoginView_title__3sj0M\",\"label\":\"LoginView_label__2zuIb\",\"input\":\"LoginView_input__SrzwC\",\"btn\":\"LoginView_btn__2L1kI\"};","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com/';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nexport async function registerUser(user) {\r\n  return axios.post('/users/signup', user).then(r => {\r\n    token.set(r.data.token);\r\n    return r.data;\r\n  });\r\n}\r\n\r\nexport async function loginUser(user) {\r\n  return axios.post('/users/login', user).then(r => {\r\n    token.set(r.data.token);\r\n    return r.data;\r\n  });\r\n}\r\n\r\nexport async function logOutUser() {\r\n  return axios.post('/users/logout').then(r => {\r\n    token.unset();\r\n    return r.data;\r\n  });\r\n}\r\n\r\nexport async function fetchUser(persistedToken) {\r\n  token.set(persistedToken);\r\n  return axios.get('/users/current').then(r => {\r\n    return r.data;\r\n  });\r\n}\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport {\r\n  loginUser,\r\n  registerUser,\r\n  logOutUser,\r\n  fetchUser,\r\n} from '../../Services/users-api';\r\n\r\nexport const register = createAsyncThunk(\r\n  'users/signup',\r\n\r\n  async user => {\r\n    const newUser = registerUser(user);\r\n    return newUser;\r\n  },\r\n);\r\n\r\nexport const login = createAsyncThunk(\r\n  'users/login',\r\n\r\n  async user => {\r\n    const newUser = loginUser(user);\r\n    return newUser;\r\n  },\r\n);\r\n\r\nexport const logOut = createAsyncThunk(\r\n  'users/logout',\r\n\r\n  async () => {\r\n    const newUser = logOutUser();\r\n    return newUser;\r\n  },\r\n);\r\n\r\nexport const fetchCurrentUser = createAsyncThunk(\r\n  '/users/current',\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.auth.token;\r\n\r\n    if (persistedToken === null) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n\r\n    const data = fetchUser(persistedToken);\r\n\r\n    return data;\r\n  },\r\n);\r\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\r\n\r\nconst getUsername = state => state.auth.user.name;\r\nconst getIsFetchingCurrent = state => state.auth.getIsFetchingCurrentUser;\r\n\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUsername,\r\n  getIsFetchingCurrent,\r\n};\r\n\r\nexport default authSelectors;\r\n","import s from './MainView.module.css';\r\n\r\nexport const MainView = () => {\r\n  return (\r\n    <div className={s.container}>\r\n      <h1 className={s.title}>Main page</h1>\r\n    </div>\r\n  );\r\n};\r\n","import PropTypes from 'prop-types';\nimport s from './Section.module.css';\n\nconst Section = ({ title, children }) => {\n  return (\n    <section className={s.section}>\n      {title && <h2>{title}</h2>} {children}\n    </section>\n  );\n};\nSection.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.node,\n};\nexport default Section;\n","import axios from 'axios';\r\n\r\nexport const fetchContactsNew = () => {\r\n  return axios.get('/contacts').then(r => r.data);\r\n};\r\n\r\nexport const addContactsNew = ({ name, number }) => {\r\n  const contact = {\r\n    name,\r\n    number,\r\n  };\r\n  return axios.post('/contacts', contact).then(r => r.data);\r\n};\r\n\r\nexport const deleteContactsNew = id => {\r\n  axios.delete(`/contacts/${id}`).then(r => r.data);\r\n  return { id };\r\n};\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nimport {\r\n  fetchContactsNew,\r\n  addContactsNew,\r\n  deleteContactsNew,\r\n} from '../../Services/contacts-api';\r\n\r\nexport const fetchContacts = createAsyncThunk(\r\n  'contacts/fetchContacts',\r\n  async () => {\r\n    const contacts = fetchContactsNew();\r\n    return contacts;\r\n  },\r\n);\r\n\r\nexport const addContact = createAsyncThunk(\r\n  'contacts/addContacts',\r\n  async ({ name, number }) => {\r\n    const contacts = addContactsNew({ name, number });\r\n    return contacts;\r\n  },\r\n);\r\n\r\nexport const deleteContact = createAsyncThunk(\r\n  'contacts/deleteContacts',\r\n  async id => {\r\n    const contact = deleteContactsNew(id);\r\n\r\n    return contact;\r\n  },\r\n);\r\n","import { createSelector } from 'reselect';\r\n\r\nexport const getLoading = state => state.contacts.loading;\r\n\r\nexport const getFilter = state => state.contacts.filter;\r\n\r\nexport const getAllContacts = state => state.contacts.items;\r\n\r\nexport const getVisibleContacts = createSelector(\r\n  [getAllContacts, getFilter],\r\n  (contacts, filter) => {\r\n    const normalizedFilter = filter.toLowerCase();\r\n    return contacts.filter(contact =>\r\n      contact.name.toLowerCase().includes(normalizedFilter),\r\n    );\r\n  },\r\n);\r\n\r\n// export const getVisibleContacts = state => {\r\n//   const contacts = getAllContacts(state);\r\n//   const filter = getFilter(state);\r\n//   const normalizedFilter = filter.toLowerCase();\r\n\r\n//   return contacts.filter(({ name }) =>\r\n//     name.toLowerCase().includes(normalizedFilter),\r\n//   );\r\n// };\r\n","import { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { addContact } from '../../redux/contacts/contacts-operations';\nimport { getAllContacts } from '../../redux/contacts/contacts-selectors';\nimport PropTypes from 'prop-types';\nimport shortid from 'shortid';\nimport s from './Form.module.css';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst Form = ({ onSubmit, contacts }) => {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n\n  const nameInputId = shortid.generate();\n  const numberInputId = shortid.generate();\n\n  const handleInputChange = event => {\n    const { name, value } = event.target;\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n      case 'number':\n        setNumber(value);\n        break;\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (contacts.find(contact => contact.name === name)) {\n      toast(`${name}is already in contacts`);\n      reset();\n      return;\n    }\n\n    onSubmit({ name, number });\n    reset();\n  };\n\n  const reset = () => {\n    setName('');\n    setNumber('');\n  };\n\n  return (\n    <form className={s.form} onSubmit={handleSubmit}>\n      <label className={s.label} htmlFor={nameInputId}>\n        Name\n      </label>\n\n      <input\n        className={s.input}\n        type=\"text\"\n        name=\"name\"\n        value={name}\n        onChange={handleInputChange}\n        pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n        title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n        required\n        id={nameInputId}\n      />\n\n      <label className={s.label} htmlFor={numberInputId}>\n        Phone\n      </label>\n\n      <input\n        className={s.input}\n        type=\"tel\"\n        name=\"number\"\n        value={number}\n        onChange={handleInputChange}\n        pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n        title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n        required\n        id={numberInputId}\n      />\n\n      <button className={s.btn} type=\"submit\">\n        Add contact\n      </button>\n    </form>\n  );\n};\n\nForm.propTypes = {\n  onSubmit: PropTypes.func,\n};\n\nconst mapStateToProps = state => ({\n  contacts: getAllContacts(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSubmit: ({ name, number }) => dispatch(addContact({ name, number })),\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(Form);\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactRequest = createAction('contacts/fetchContactRequest');\r\nexport const fetchContactSuccess = createAction('contacts/fetchContactSuccess');\r\nexport const fetchContactError = createAction('contacts/fetchContactError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction(\r\n  'contacts/deleteContactRequest',\r\n);\r\nexport const deleteContactSuccess = createAction(\r\n  'contacts/deleteContactSuccess',\r\n);\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\nexport const changeFilter = createAction('contacts/change');\r\n","import PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport * as contactsActions from '../../redux/contacts/contacts-actions';\nimport s from './Filter.module.css';\nimport { getFilter } from '../../redux/contacts/contacts-selectors';\n\nconst Filter = ({ value, onChange }) => (\n  <label>\n    <input className={s.input} type=\"text\" value={value} onChange={onChange} />\n  </label>\n);\n\nFilter.propTypes = {\n  value: PropTypes.string,\n  onChange: PropTypes.func,\n};\n\nconst mapStateToProps = state => ({\n  value: getFilter(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: e => dispatch(contactsActions.changeFilter(e.target.value)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter);\n","import PropTypes from 'prop-types';\nimport s from './Contact.module.css';\n\nconst Contact = ({ id, name, number, onDeleteContact }) => (\n  <li className={s.listItem} key={id}>\n    <p className={s.listItemName}>\n      {name} : {number}\n    </p>\n    <button className={s.btn} onClick={() => onDeleteContact(id)}>\n      Delete\n    </button>\n  </li>\n);\n\nexport default Contact;\n\nContact.propTypes = {\n  name: PropTypes.string,\n  number: PropTypes.string,\n  onDeleteContact: PropTypes.func,\n};\n","import Contact from '../Contact/Contact';\nimport {\n  addContact,\n  deleteContact,\n  fetchContacts,\n} from '../../redux/contacts/contacts-operations';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport s from './ContactList.module.css';\nimport { useEffect } from 'react';\nimport {\n  getVisibleContacts,\n  getLoading,\n} from '../../redux/contacts/contacts-selectors';\n\nconst ContactList = ({\n  contacts,\n  onDeleteContact,\n  fetchContacts,\n  isLoading,\n}) => {\n  useEffect(() => {\n    fetchContacts();\n  }, [fetchContacts]);\n\n  return (\n    <>\n      {isLoading && <h2>Loading...</h2>}\n      <ul className={s.list}>\n        {contacts &&\n          contacts.map(({ id, name, number }) => (\n            <Contact\n              id={id}\n              name={name}\n              number={number}\n              key={id}\n              onDeleteContact={onDeleteContact}\n            />\n          ))}\n      </ul>\n    </>\n  );\n};\n\nContactList.propTypes = {\n  contacts: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }),\n  ),\n};\n\nconst mapStateToProps = state => ({\n  contacts: getVisibleContacts(state),\n  isLoading: getLoading(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  addContact: () => dispatch(addContact()),\n  fetchContacts: () => dispatch(fetchContacts()),\n  onDeleteContact: id => dispatch(deleteContact(id)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ContactList);\n","import Section from '../../components/Section/Section';\r\nimport Form from '../../components/Form/Form';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport Filter from '../../components/Filter/Filter';\r\nimport ContactList from '../../components/ContactList/ContactList';\r\n\r\nexport const ContactsView = () => {\r\n  return (\r\n    <>\r\n      <Section title=\"Phone-book\">\r\n        <Form />\r\n      </Section>\r\n      <Section title=\"Contacts\">\r\n        <Filter />\r\n\r\n        <ContactList />\r\n      </Section>\r\n      <ToastContainer autoClose={3000} position={'top-center'} />\r\n    </>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { register } from '../../redux/auth/auth-operations';\r\n\r\nimport shortid from 'shortid';\r\nimport s from '../LoginView/LoginView.module.css';\r\n\r\nexport const RegisterView = ({ onSubmit, contacts }) => {\r\n  const dispatch = useDispatch();\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const passwordId = shortid.generate();\r\n  const emailId = shortid.generate();\r\n  const nameId = shortid.generate();\r\n\r\n  const handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n    switch (name) {\r\n      case 'email':\r\n        setEmail(value);\r\n        break;\r\n      case 'password':\r\n        setPassword(value);\r\n        break;\r\n      case 'name':\r\n        setName(value);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    dispatch(register({ name, email, password }));\r\n\r\n    reset();\r\n  };\r\n\r\n  const reset = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n    setName('');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2 className={s.title}>You can register hear</h2>\r\n      <form className={s.form} onSubmit={handleSubmit}>\r\n        <label className={s.label} htmlFor={emailId}>\r\n          Name\r\n        </label>\r\n\r\n        <input\r\n          className={s.input}\r\n          type=\"name\"\r\n          name=\"name\"\r\n          required\r\n          value={name}\r\n          id={nameId}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <label className={s.label} htmlFor={emailId}>\r\n          Email\r\n        </label>\r\n\r\n        <input\r\n          className={s.input}\r\n          type=\"mail\"\r\n          name=\"email\"\r\n          required\r\n          value={email}\r\n          id={emailId}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <label className={s.label} htmlFor={passwordId}>\r\n          Password\r\n        </label>\r\n\r\n        <input\r\n          className={s.input}\r\n          type=\"password\"\r\n          name=\"password\"\r\n          required\r\n          value={password}\r\n          id={passwordId}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <button className={s.btn} type=\"submit\">\r\n          register\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { login } from '../../redux/auth/auth-operations';\r\n\r\nimport shortid from 'shortid';\r\nimport s from './LoginView.module.css';\r\n\r\nexport const LoginView = ({ onSubmit, contacts }) => {\r\n  const dispatch = useDispatch();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const passwordId = shortid.generate();\r\n  const emailId = shortid.generate();\r\n\r\n  const handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n    switch (name) {\r\n      case 'email':\r\n        setEmail(value);\r\n        break;\r\n      case 'password':\r\n        setPassword(value);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    dispatch(login({ email, password }));\r\n\r\n    reset();\r\n  };\r\n\r\n  const reset = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2 className={s.title}>Enter your email and password</h2>\r\n      <form className={s.form} onSubmit={handleSubmit}>\r\n        <label className={s.label} htmlFor={emailId}>\r\n          Email\r\n        </label>\r\n\r\n        <input\r\n          className={s.input}\r\n          type=\"mail\"\r\n          name=\"email\"\r\n          required\r\n          value={email}\r\n          id={emailId}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <label className={s.label} htmlFor={passwordId}>\r\n          Password\r\n        </label>\r\n\r\n        <input\r\n          className={s.input}\r\n          type=\"password\"\r\n          name=\"password\"\r\n          required\r\n          value={password}\r\n          id={passwordId}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <button className={s.btn} type=\"submit\">\r\n          log in\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n","import { NavLink } from 'react-router-dom';\r\nimport s from './AuthNav.module.css';\r\n\r\nexport const AuthNav = () => {\r\n  return (\r\n    <div className={s.container}>\r\n      <NavLink\r\n        to=\"/register\"\r\n        className=\"link\"\r\n        style={({ isActive }) => {\r\n          return {\r\n            color: isActive ? '#1e90ff' : 'dimgrey',\r\n          };\r\n        }}\r\n      >\r\n        Registration\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/login\"\r\n        className=\"link\"\r\n        style={({ isActive }) => {\r\n          return {\r\n            color: isActive ? '#1e90ff' : 'dimgrey',\r\n          };\r\n        }}\r\n      >\r\n        Login\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport authSelectors from '../../../redux/auth/auth-selectors';\r\nimport defaultAvatar from '../../../images/ninja-cat.png';\r\nimport s from './UserMenu.module.css';\r\nimport { logOut } from '../../../redux/auth/auth-operations';\r\n\r\nexport const UserMenu = () => {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUsername);\r\n  return (\r\n    <div className={s.menu}>\r\n      <NavLink\r\n        to=\"/\"\r\n        className=\"link\"\r\n        style={({ isActive }) => {\r\n          return {\r\n            color: isActive ? '#1e90ff' : 'dimgrey',\r\n          };\r\n        }}\r\n      >\r\n        Main\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/contacts\"\r\n        className=\"link\"\r\n        style={({ isActive }) => {\r\n          return {\r\n            color: isActive ? '#1e90ff' : 'dimgrey',\r\n          };\r\n        }}\r\n      >\r\n        Contacts\r\n      </NavLink>\r\n      <div className={s.container}>\r\n        <img src={defaultAvatar} className={s.img} alt=\"avatar\" />\r\n        <span className={s.name}>Hello {name}!</span>\r\n        <button\r\n          type=\"button\"\r\n          className={s.btn}\r\n          onClick={() => dispatch(logOut())}\r\n        >\r\n          out\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAABCVJREFUWIXtVk1oXFUYPefepKlphv7FNmpMa4lNbf7wJxBUOiYzkVarTUxecCVS3FisRQSVgosuRMGF7gSXUlw4RqIFF3ZSEq0gESrO0IkVoVZEbRdNqrFt5uW942Im0/fmJTGBZJezevfec79zvnu/d+8F1rCGKExbwjl8X1d/8wrFY3Oir6M1MXAEgIkMlne0JJ24JUcBQNIFAR9MTuPD379L3ViOamPj/qrqnbGjAF4iuQMAfHnJbHpoJMiLODLSgZI7ssmQ72+J8aeW7sHepYq3JgaTG3bGMiTfnRMHAIJPlnMrIrMNO8u7CDRYi8/aks6QqE8o0yDpDhI1AEhg2qcuS/zViL2gngUZWV2CHf9vQGyKbkxhPskBggMgIvENWNhQAvPsbCE02BTJN9x0LKBt885eEagW8Xgo6ZCB+k6sIxmpi5UCCwWxsIEtsSkjyV8tAwCw2dsWW9AA/I3vreYKAIC3HieC7VK1tHY5D9JifLUNSPIh/6HMyNAPQGAFjOWR1RYHgIKGebmkW3IGPb5SIpL8RWuJKB1IBgDa44c2AbhrnkDjvuc9MePna928YlP5mc0zN907Be3Ka3a3m9e9yPMeP+/e7XmmbsbP11Zcvb4hk05VZNwrVbO+1yXp+4g+eXtL91PbgeIv4cHW2bKTxRfOeH/gQC43lC+bP7WkZRgbmz0PjO6Ix/dtrNyWJvlIyITWbwJw2QCANbShzKFZUi/kcqmSeEv8mT0t3U4PHCfELcfepNPQ2t1/oL7TuQ0ALo2N3YTcw5K8+fgGAG5adzLUK4xnTqculsS7nT6zzmat5VftkxheSLw5MdhRAUwYa7/cWoNvG/fvrwKAzMjwzwC+DnI9H9dKBi6kv/hT0vXA+MUg2Rq8SbBwgpEHmxN9kUsFAAz1OsnqIu/+ajcWvEEnSvkJN3JjqSslAwAEIhcgV5XFDhUoVRkp2CLqw46ihV1EFoAfNAAIZwKEXWUTxm/RNOsbnVsg8HiopVC7MTAwestjiYuTklRstu5J9G6dG3NdvCLpvIRp+TyWS6d+m0/dlXsC0llJM5DeyaRTZwGg6eGnYwAeneN5mv107jv067UnnVMgDwKAL72dTaeOL5DpstDWM/gWgeOFRDWSOZ1Kzo2Fj17XHJU0VXDG11qTzrFyk8uEaUsOvArpDQCQ9Lcr78UgIRK8OdH/mKU9VXxuQb4mBH0s8pt/3PyPl8Y+X/Qg2ht3aqzhA7TqITAIcjcACJiWvN7yR+m82TV39bVbW/ERybZgf7FGrgL4C8C/BKRbD4xKELUQ6sovNUnnBDyfTaey5VqLLK9j2xIYgMFzEPfNrchSUdzKtOSfzI4MnULxt1uGgRBMU/xQQ9W6iu0ENnqerab1K+nTQCJIAQAJCbwG5S9mRoZ/WUh0DUH8B8ldkTM/+f1RAAAAAElFTkSuQmCC\"","import { useSelector } from 'react-redux';\r\nimport authSelectors from '../../redux/auth/auth-selectors';\r\n\r\nimport { AuthNav } from './AuthNav/AuthNav';\r\nimport { UserMenu } from './UserMenu/UserMenu';\r\n\r\nexport function Navigation() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  return <nav>{isLoggedIn ? <UserMenu /> : <AuthNav />}</nav>;\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Navigate } from 'react-router';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\nexport default function PrivateRoute({ component: Component }) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return <>{isLoggedIn ? <Component /> : <Navigate to=\"/login\" />}</>;\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Navigate } from 'react-router';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\nexport default function PublicRoute({ component: Component }) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return <>{isLoggedIn ? <Navigate to=\"/contacts\" /> : <Component />}</>;\r\n}\r\n","import './App.css';\nimport { Route, Routes, Navigate } from 'react-router';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchCurrentUser } from './redux/auth/auth-operations';\nimport authSelectors from './redux/auth/auth-selectors';\n\nimport { MainView } from './Views/MainView/MainView';\nimport { ContactsView } from './Views/ContactsView/ContactsView';\nimport { RegisterView } from './Views/RegisterView/RegisterView';\nimport { LoginView } from './Views/LoginView/LoginView';\nimport { Navigation } from './components/Navigation/Navigation';\nimport PrivateRoute from './Routes/PrivateRoute';\nimport PublicRoute from './Routes/PublicRoute';\n\nexport const App = () => {\n  const dispatch = useDispatch();\n  const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrent);\n\n  useEffect(() => {\n    dispatch(fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    !isFetchingCurrentUser && (\n      <div>\n        <Navigation />\n\n        <Routes>\n          <Route path=\"/\" element={<PrivateRoute component={MainView} />} />\n          {/* <Route path=\"/goit-react-hw-05-movies\" element={<HomePage />}></Route> */}\n          <Route\n            path=\"/register\"\n            element={<PublicRoute component={RegisterView} />}\n          />\n          <Route\n            path=\"/login\"\n            element={<PublicRoute component={LoginView} />}\n          />\n\n          <Route\n            path=\"/contacts\"\n            element={<PrivateRoute component={ContactsView} />}\n          />\n\n          <Route path=\"*\" element={<Navigate to=\"/\" />}></Route>\n        </Routes>\n      </div>\n    )\n  );\n};\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  fetchContacts,\r\n  addContact,\r\n  deleteContact,\r\n} from './contacts-operations';\r\n\r\nimport { changeFilter } from './contacts-actions';\r\n\r\nconst items = createReducer([], {\r\n  [fetchContacts.fulfilled]: (_, { payload }) => payload,\r\n  [addContact.fulfilled]: (state, { payload }) => {\r\n    return [...state, payload];\r\n  },\r\n\r\n  [deleteContact.fulfilled]: (state, { payload }) => {\r\n    const newState = state.filter(contact => contact.id !== payload.id);\r\n    return newState;\r\n  },\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContacts.pending]: () => true,\r\n  [fetchContacts.fulfilled]: () => false,\r\n  [fetchContacts.rejected]: () => false,\r\n  [addContact.pending]: () => true,\r\n  [addContact.fulfilled]: () => false,\r\n  [addContact.rejected]: () => false,\r\n  [deleteContact.pending]: () => true,\r\n  [deleteContact.fulfilled]: () => false,\r\n  [deleteContact.rejected]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n});\r\n\r\n// const items = (state = [], { type, payload }) => {\r\n//   switch (type) {\r\n//     case types.ADD:\r\n//       return [...state, payload];\r\n//     case types.DELETE:\r\n//       return state.filter(({ id }) => id !== payload);\r\n//     default:\r\n//       return state;\r\n//   }\r\n// };\r\n\r\n// const filter = (state = '', { type, payload }) => {\r\n//   switch (type) {\r\n//     case [actions.changeFilter]:\r\n//       return payload;\r\n\r\n//     default:\r\n//       return state;\r\n//   }\r\n// };\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport { register, login, logOut, fetchCurrentUser } from './auth-operations';\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n  isFetchingCurrentUser: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [register.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [login.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [logOut.fulfilled](state, action) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [fetchCurrentUser.pending](state) {\r\n      state.isFetchingCurrentUser = true;\r\n    },\r\n    [fetchCurrentUser.fulfilled](state, action) {\r\n      state.user = action.payload;\r\n      state.isLoggedIn = true;\r\n      state.isFetchingCurrentUser = false;\r\n    },\r\n    [fetchCurrentUser.rejected](state) {\r\n      state.isFetchingCurrentUser = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger';\r\nimport contactsReducer from './contacts/contacts-reducer';\r\nimport auth from './auth/auth-slice';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  logger,\r\n];\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, auth),\r\n    contacts: contactsReducer,\r\n  },\r\n\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { store, persistor } from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}